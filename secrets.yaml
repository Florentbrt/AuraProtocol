# Chainlink CRE Secrets Configuration
# This file defines secrets that are securely injected into the DON nodes
# during workflow execution. Secrets are encrypted at rest and in transit.

version: "1.0"

# Secrets available to all workflows in this project
secrets:
  # Alpha Vantage API Key for RWA price data fetching
  - name: ALPHA_VANTAGE_API_KEY
    description: "Alpha Vantage API key for fetching GOLD and MSFT prices"
    source: env
    envVar: ALPHA_VANTAGE_API_KEY
    required: true
    
  # Optional: Smart contract address (can be set via environment)
  - name: AURA_CONTRACT_ADDRESS
    description: "Deployed AuraProtocol smart contract address"
    source: env
    envVar: AURA_CONTRACT_ADDRESS
    required: false
    default: "0x0000000000000000000000000000000000000000"
    
  # Optional: Alert webhook URL
  - name: ALERT_WEBHOOK_URL
    description: "Webhook endpoint for volatility alerts"
    source: env
    envVar: ALERT_WEBHOOK_URL
    required: false

# Security settings
security:
  # Secrets are only accessible within the CRE runtime
  # Never logged or exposed in responses
  loggingLevel: "none"
  
  # Secrets are encrypted using DON-specific keys
  encryption: "aes-256-gcm"
  
  # Rotation policy (recommended for production)
  rotationPolicy:
    enabled: false
    intervalDays: 90

# Access control
access:
  # Which workflows can access these secrets
  allowedWorkflows:
    - "aura-protocol-rwa-ingestion"
  
  # Which DON nodes can decrypt these secrets
  allowedNodes: "*"  # All nodes in the DON

# Audit trail
audit:
  enabled: true
  logSecretAccess: true
  logSecretValues: false  # Never log actual secret values
